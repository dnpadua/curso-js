<script src = "./js/libBrasil.js"></script>
<script src = "./js/libIdade.js"></script>
<script src = "./js/mostra.js"></script>

Nome
<br>
<input type="text" id="campoNome">
<br><br>

Peso
<br>
<input type="text" id="campoPeso">
<br><br>

Altura
<br>
<input type="text" id="campoAltura">
<br><br>

Data de Nascimento
<br>
<input type="text" id="campoDataNascimento">
<br><br>

<button onclick="criaFicha()">Enviar</button><br><br>

<input	type="checkbox" id="campoProblemasCardiacos">Tem	problemas	cardíacos<br><br>

<script>
function criaFicha(){

    var nome = campoNome.value
    var peso = parseFloatBrasil(campoAltura.value);
    var altura = parseFloatBrasil(campoAltura.value);
    var dataNascimento = campoDataNascimento.value;

    var diaMesAnoNascimento = dataNascimento.split("/");

    var diaNascimento = diaMesAnoNascimento[0]
    var mesNascimento = diaMesAnoNascimento[1]
    var anoNascimento = diaMesAnoNascimento[2]

    var idade = calculaIdade(diaNascimento, mesNascimento, anoNascimento);

    var temProblemasCardiacos = campoProblemasCardiacos.checked

    var fraseAcompanhamentoMedico;
    var ehCrianca = idade < 16;

    if( temProblemasCardiacos || ehCrianca ) {
        fraseAcompanhamentoMedico = "Necessita de acompanhamento médio"
    }

    if( !temProblemasCardiacos && !ehCrianca ) {
        fraseAcompanhamentoMedico = "Não é necessário acompanhamento médio"
    }

    mostra(`
    <hr>
    Ficha ${numeroFicha}
    <hr>
    Nome ${nome}
    <br>
    Peso ${formataFloatBrasil(peso)} kg 
    <br>
    Altura ${formataFloatBrasil(altura)} m
    <br>
    Data de Nascimento: ${dataNascimento}
    <br>
    Idade: ${idade} anos
    <br>
    ${fraseAcompanhamentoMedico}
    `)
}
</script>

<!-- Uncaught ReferenceError: diaMesAnoNascimento is not defined
    at criaFicha (fichaAcademia.html:36)
    at HTMLButtonElement.onclick (fichaAcademia.html:25) -->

